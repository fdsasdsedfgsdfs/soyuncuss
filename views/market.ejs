<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market - MinecraftTR</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="/" class="navbar-brand">
                <i class="fas fa-cube"></i>
                MinecraftTR
            </a>
            
            <ul class="navbar-nav">
                <li><a href="/" class="nav-link"><i class="fas fa-home"></i> Ana Sayfa</a></li>
                <li><a href="/market" class="nav-link active"><i class="fas fa-shopping-bag"></i> Market</a></li>
                <li><a href="/toplist" class="nav-link"><i class="fas fa-trophy"></i> Sıralama</a></li>
                <li><a href="/news" class="nav-link"><i class="fas fa-newspaper"></i> Haberler</a></li>
                <li class="dropdown">
                    <a href="/games" class="nav-link"><i class="fas fa-gamepad"></i> Oyunlar</a>
                    <div class="dropdown-menu">
                        <a href="/games/survival" class="dropdown-item"><i class="fas fa-tree"></i> Survival</a>
                        <a href="/games/bedwars" class="dropdown-item"><i class="fas fa-bed"></i> BedWars</a>
                        <a href="/games/skywars" class="dropdown-item"><i class="fas fa-cloud"></i> SkyWars</a>
                        <a href="/games/prison" class="dropdown-item"><i class="fas fa-lock"></i> Prison</a>
                        <a href="/games/skyblock" class="dropdown-item"><i class="fas fa-mountain"></i> SkyBlock</a>
                    </div>
                </li>
                <% if (typeof user !== 'undefined' && user) { %>
                    <li class="dropdown">
                        <a href="/dashboard" class="nav-link"><i class="fas fa-user"></i> <%= user.username %></a>
                        <div class="dropdown-menu">
                            <a href="/dashboard" class="dropdown-item"><i class="fas fa-tachometer-alt"></i> Panel</a>
                            <a href="/profile" class="dropdown-item"><i class="fas fa-user-circle"></i> Profil</a>
                            <a href="/logout" class="dropdown-item"><i class="fas fa-sign-out-alt"></i> Çıkış</a>
                        </div>
                    </li>
                <% } else { %>
                    <li><a href="/login" class="nav-link"><i class="fas fa-sign-in-alt"></i> Giriş</a></li>
                    <li><a href="/register" class="nav-link btn-primary"><i class="fas fa-user-plus"></i> Kayıt</a></li>
                <% } %>
            </ul>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1 class="page-title">
                <i class="fas fa-shopping-bag"></i>
                Market
            </h1>
            <p class="page-subtitle">Rütbeler, kitler, kozmetikler ve daha fazlası!</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container" style="margin-top: 40px; margin-bottom: 80px;">
        
        <!-- User Balance (if logged in) -->
        <% if (typeof user !== 'undefined' && user) { %>
            <div class="card" style="margin-bottom: 40px;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                    <div>
                        <h3 style="color: #10b981; margin-bottom: 15px; font-size: 1.4rem;">
                            <i class="fas fa-wallet"></i> Hesap Bakiyesi
                        </h3>
                        <div style="display: flex; gap: 30px; flex-wrap: wrap;">
                            <div class="balance-item">
                                <i class="fas fa-coins" style="color: #f59e0b;"></i>
                                <span>Coin: </span>
                                <span style="color: #f59e0b; font-weight: bold;" id="user-coins">0</span>
                            </div>
                            <div class="balance-item">
                                <i class="fas fa-gem" style="color: #8b5cf6;"></i>
                                <span>Token: </span>
                                <span style="color: #8b5cf6; font-weight: bold;" id="user-tokens">0</span>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <button class="btn btn-outline">
                            <i class="fas fa-plus"></i> Coin Satın Al
                        </button>
                        <button class="btn btn-primary">
                            <i class="fas fa-plus"></i> Token Satın Al
                        </button>
                    </div>
                </div>
            </div>
        <% } %>

        <!-- Category Filter -->
        <div style="margin-bottom: 40px;">
            <div class="category-filter">
                <button class="category-btn active" data-category="all">
                    <i class="fas fa-th"></i> Tümü
                </button>
                <button class="category-btn" data-category="ranks">
                    <i class="fas fa-crown"></i> Rütbeler
                </button>
                <button class="category-btn" data-category="kits">
                    <i class="fas fa-box"></i> Kitler
                </button>
                <button class="category-btn" data-category="cosmetics">
                    <i class="fas fa-palette"></i> Kozmetikler
                </button>
                <button class="category-btn" data-category="boosters">
                    <i class="fas fa-rocket"></i> Güçlendiriciler
                </button>
                <button class="category-btn" data-category="other">
                    <i class="fas fa-star"></i> Diğer
                </button>
            </div>
        </div>

        <!-- Market Items Grid -->
        <div class="market-grid" id="market-items">
            <!-- Sample Items -->
            <div class="market-item" data-category="ranks">
                <div class="item-image">
                    <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=200&h=200&fit=crop&crop=center" alt="VIP Rütbesi" onerror="this.src='https://via.placeholder.com/200x200/10b981/ffffff?text=VIP'">
                    <div class="item-badge rank">RÜTBE</div>
                </div>
                <div class="item-content">
                    <h3 class="item-title">VIP Rütbesi</h3>
                    <p class="item-description">Özel komutlar, renkli nick ve daha fazla ayrıcalık!</p>
                    <div class="item-features">
                        <span><i class="fas fa-check"></i> Renkli Nick</span>
                        <span><i class="fas fa-check"></i> VIP Komutları</span>
                        <span><i class="fas fa-check"></i> Özel Kit</span>
                    </div>
                    <div class="item-footer">
                        <div class="item-price">
                            <span class="price-amount">299</span>
                            <span class="price-currency">Token</span>
                        </div>
                        <button class="btn btn-primary btn-buy" data-item="vip-rank">
                            <i class="fas fa-shopping-cart"></i> Satın Al
                        </button>
                    </div>
                </div>
            </div>

            <div class="market-item" data-category="ranks">
                <div class="item-image">
                    <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?w=200&h=200&fit=crop&crop=center" alt="Premium Rütbesi" onerror="this.src='https://via.placeholder.com/200x200/8b5cf6/ffffff?text=PREMIUM'">
                    <div class="item-badge rank premium">PREMIUM</div>
                </div>
                <div class="item-content">
                    <h3 class="item-title">Premium Rütbesi</h3>
                    <p class="item-description">En üst seviye ayrıcalıklar ve özel içerikler!</p>
                    <div class="item-features">
                        <span><i class="fas fa-check"></i> Tüm VIP Özellikleri</span>
                        <span><i class="fas fa-check"></i> Premium Komutları</span>
                        <span><i class="fas fa-check"></i> Özel Bölgeler</span>
                    </div>
                    <div class="item-footer">
                        <div class="item-price">
                            <span class="price-amount">599</span>
                            <span class="price-currency">Token</span>
                        </div>
                        <button class="btn btn-primary btn-buy" data-item="premium-rank">
                            <i class="fas fa-shopping-cart"></i> Satın Al
                        </button>
                    </div>
                </div>
            </div>

            <div class="market-item" data-category="kits">
                <div class="item-image">
                    <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=200&h=200&fit=crop&crop=center" alt="Savaşçı Kiti" onerror="this.src='https://via.placeholder.com/200x200/ef4444/ffffff?text=KIT'">
                    <div class="item-badge kit">KİT</div>
                </div>
                <div class="item-content">
                    <h3 class="item-title">Savaşçı Kiti</h3>
                    <p class="item-description">Güçlü silahlar ve zırhlarla savaşa hazır ol!</p>
                    <div class="item-features">
                        <span><i class="fas fa-sword"></i> Diamond Kılıç</span>
                        <span><i class="fas fa-shield-alt"></i> Full Diamond Zırh</span>
                        <span><i class="fas fa-apple-alt"></i> Yiyecekler</span>
                    </div>
                    <div class="item-footer">
                        <div class="item-price">
                            <span class="price-amount">150</span>
                            <span class="price-currency">Coin</span>
                        </div>
                        <button class="btn btn-primary btn-buy" data-item="warrior-kit">
                            <i class="fas fa-shopping-cart"></i> Satın Al
                        </button>
                    </div>
                </div>
            </div>

            <div class="market-item" data-category="cosmetics">
                <div class="item-image">
                    <img src="https://images.unsplash.com/photo-1551103782-8ab07afd4c8d?w=200&h=200&fit=crop&crop=center" alt="Ejder Kanatları" onerror="this.src='https://via.placeholder.com/200x200/10b981/ffffff?text=WINGS'">
                    <div class="item-badge cosmetic">KOZMETİK</div>
                </div>
                <div class="item-content">
                    <h3 class="item-title">Ejder Kanatları</h3>
                    <p class="item-description">Arkanda muhteşem ejder kanatları ile öne çık!</p>
                    <div class="item-features">
                        <span><i class="fas fa-eye"></i> Görsel Efekt</span>
                        <span><i class="fas fa-star"></i> Eşsiz Tasarım</span>
                        <span><i class="fas fa-fire"></i> Animasyonlu</span>
                    </div>
                    <div class="item-footer">
                        <div class="item-price">
                            <span class="price-amount">199</span>
                            <span class="price-currency">Token</span>
                        </div>
                        <button class="btn btn-primary btn-buy" data-item="dragon-wings">
                            <i class="fas fa-shopping-cart"></i> Satın Al
                        </button>
                    </div>
                </div>
            </div>

            <div class="market-item" data-category="boosters">
                <div class="item-image">
                    <img src="https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=200&h=200&fit=crop&crop=center" alt="XP Güçlendirici" onerror="this.src='https://via.placeholder.com/200x200/f59e0b/ffffff?text=XP'">
                    <div class="item-badge booster">GÜÇLENDİRİCİ</div>
                </div>
                <div class="item-content">
                    <h3 class="item-title">XP Güçlendirici</h3>
                    <p class="item-description">1 saat boyunca %200 fazla XP kazan!</p>
                    <div class="item-features">
                        <span><i class="fas fa-clock"></i> 1 Saat Süre</span>
                        <span><i class="fas fa-chart-line"></i> %200 Bonus</span>
                        <span><i class="fas fa-bolt"></i> Anında Aktif</span>
                    </div>
                    <div class="item-footer">
                        <div class="item-price">
                            <span class="price-amount">50</span>
                            <span class="price-currency">Coin</span>
                        </div>
                        <button class="btn btn-primary btn-buy" data-item="xp-booster">
                            <i class="fas fa-shopping-cart"></i> Satın Al
                        </button>
                    </div>
                </div>
            </div>

            <div class="market-item" data-category="other">
                <div class="item-image">
                    <img src="https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=200&h=200&fit=crop&crop=center" alt="Koruma Taşı" onerror="this.src='https://via.placeholder.com/200x200/6366f1/ffffff?text=STONE'">
                    <div class="item-badge other">DİĞER</div>
                </div>
                <div class="item-content">
                    <h3 class="item-title">Koruma Taşı</h3>
                    <p class="item-description">Evini ve eşyalarını grieferlardan koru!</p>
                    <div class="item-features">
                        <span><i class="fas fa-shield"></i> Alan Koruması</span>
                        <span><i class="fas fa-lock"></i> Güvenli Sandık</span>
                        <span><i class="fas fa-home"></i> Ev Koruması</span>
                    </div>
                    <div class="item-footer">
                        <div class="item-price">
                            <span class="price-amount">100</span>
                            <span class="price-currency">Token</span>
                        </div>
                        <button class="btn btn-primary btn-buy" data-item="protection-stone">
                            <i class="fas fa-shopping-cart"></i> Satın Al
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-cube"></i> MinecraftTR</h3>
                    <p>Türkiye'nin en eğlenceli Minecraft sunucusu. Arkadaşlarınla birlikte unutulmaz anılar yaşa!</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-discord"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Oyun Modları</h4>
                    <ul>
                        <li><a href="/games/survival">Survival</a></li>
                        <li><a href="/games/bedwars">BedWars</a></li>
                        <li><a href="/games/skywars">SkyWars</a></li>
                        <li><a href="/games/prison">Prison</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Bağlantılar</h4>
                    <ul>
                        <li><a href="/market">Market</a></li>
                        <li><a href="/toplist">Sıralama</a></li>
                        <li><a href="/news">Haberler</a></li>
                        <li><a href="/rules">Kurallar</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>İletişim</h4>
                    <div class="server-ip">
                        <i class="fas fa-server"></i>
                        <span>play.minecrafttr.com</span>
                        <button onclick="copyIP()" title="IP'yi Kopyala">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <p><i class="fas fa-envelope"></i> info@minecrafttr.com</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 MinecraftTR. Tüm hakları saklıdır.</p>
                <p>Bu sunucu Mojang Studios ile bağlantılı değildir.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/main.js"></script>
    <script>
        // Market specific functions
        document.addEventListener('DOMContentLoaded', function() {
            // Category filtering
            const categoryBtns = document.querySelectorAll('.category-btn');
            const marketItems = document.querySelectorAll('.market-item');
            
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    btn.classList.add('active');
                    
                    const category = btn.dataset.category;
                    
                    marketItems.forEach(item => {
                        if (category === 'all' || item.dataset.category === category) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });

            // Buy button handlers
            const buyButtons = document.querySelectorAll('.btn-buy');
            buyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const itemId = this.dataset.item;
                    const itemTitle = this.closest('.market-item').querySelector('.item-title').textContent;
                    
                    if (confirm(`${itemTitle} satın almak istediğinizden emin misiniz?`)) {
                        // Here you would make an API call to purchase the item
                        utils.showToast('Satın alma işlemi başlatıldı!', 'info');
                    }
                });
            });

            // Load user balance if logged in
            <% if (typeof user !== 'undefined' && user) { %>
                loadUserBalance();
            <% } %>
        });

        function loadUserBalance() {
            // This would typically fetch from an API
            // For now, we'll use dummy data
            document.getElementById('user-coins').textContent = '1,250';
            document.getElementById('user-tokens').textContent = '89';
        }
    </script>
</body>
</html>