<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= typeof title !== 'undefined' ? title + ' - ' : '' %>MinecraftTR - Türkiye'nin En İyi Minecraft Sunucusu</title>
    <meta name="description" content="Türkiye'nin en büyük Minecraft sunucusu. BedWars, SkyWars, Survival, Market ve daha fazlası!">
    <meta name="keywords" content="minecraft, server, turkey, bedwars, skywars, survival, türkçe">
    
    <!-- Open Graph -->
    <meta property="og:title" content="MinecraftTR - Türkiye'nin En İyi Minecraft Sunucusu">
    <meta property="og:description" content="Türkiye'nin en büyük Minecraft sunucusu. BedWars, SkyWars, Survival, Market ve daha fazlası!">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/images/og-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">
    
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body class="bg-gray-900 text-white font-inter">
    <!-- Navigation -->
    <nav class="bg-gray-800 border-b border-gray-700 sticky top-0 z-50" x-data="{ mobileMenuOpen: false }">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <!-- Logo -->
                    <div class="flex-shrink-0">
                        <a href="/" class="flex items-center">
                            <img class="h-8 w-8" src="/images/logo.png" alt="MinecraftTR" onerror="this.style.display='none'">
                            <span class="ml-2 text-xl font-bold text-green-400">MinecraftTR</span>
                        </a>
                    </div>
                    
                    <!-- Desktop Navigation -->
                    <div class="hidden md:ml-6 md:flex md:space-x-8">
                        <a href="/" class="nav-link <%= typeof page !== 'undefined' && page === 'home' ? 'active' : '' %>">
                            <i class="fas fa-home mr-1"></i>Ana Sayfa
                        </a>
                        <a href="/market" class="nav-link <%= typeof page !== 'undefined' && page === 'market' ? 'active' : '' %>">
                            <i class="fas fa-shopping-bag mr-1"></i>Market
                        </a>
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="nav-link flex items-center">
                                <i class="fas fa-gamepad mr-1"></i>Oyunlar
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div x-show="open" @click.away="open = false" 
                                 x-transition:enter="transition ease-out duration-100"
                                 x-transition:enter-start="transform opacity-0 scale-95"
                                 x-transition:enter-end="transform opacity-100 scale-100"
                                 x-transition:leave="transition ease-in duration-75"
                                 x-transition:leave-start="transform opacity-100 scale-100"
                                 x-transition:leave-end="transform opacity-0 scale-95"
                                 class="absolute left-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-md shadow-lg z-50">
                                <a href="/games/bedwars" class="dropdown-link">
                                    <i class="fas fa-bed text-red-400 mr-2"></i>BedWars
                                </a>
                                <a href="/games/skywars" class="dropdown-link">
                                    <i class="fas fa-cloud text-blue-400 mr-2"></i>SkyWars
                                </a>
                                <a href="/games/survival" class="dropdown-link">
                                    <i class="fas fa-tree text-green-400 mr-2"></i>Survival
                                </a>
                                <a href="/games/prison" class="dropdown-link">
                                    <i class="fas fa-lock text-orange-400 mr-2"></i>Prison
                                </a>
                                <a href="/games/skyblock" class="dropdown-link">
                                    <i class="fas fa-cube text-purple-400 mr-2"></i>SkyBlock
                                </a>
                            </div>
                        </div>
                        <a href="/news" class="nav-link <%= typeof page !== 'undefined' && page === 'news' ? 'active' : '' %>">
                            <i class="fas fa-newspaper mr-1"></i>Haberler
                        </a>
                        <a href="/toplist" class="nav-link <%= typeof page !== 'undefined' && page === 'toplist' ? 'active' : '' %>">
                            <i class="fas fa-trophy mr-1"></i>Sıralama
                        </a>
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="nav-link flex items-center">
                                <i class="fas fa-star mr-1"></i>Kozmetikler
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div x-show="open" @click.away="open = false" 
                                 x-transition:enter="transition ease-out duration-100"
                                 x-transition:enter-start="transform opacity-0 scale-95"
                                 x-transition:enter-end="transform opacity-100 scale-100"
                                 x-transition:leave="transition ease-in duration-75"
                                 x-transition:leave-start="transform opacity-100 scale-100"
                                 x-transition:leave-end="transform opacity-0 scale-95"
                                 class="absolute left-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-md shadow-lg z-50">
                                <a href="/cosmetics/particles" class="dropdown-link">
                                    <i class="fas fa-sparkles text-yellow-400 mr-2"></i>Parçacıklar
                                </a>
                                <a href="/cosmetics/pets" class="dropdown-link">
                                    <i class="fas fa-paw text-pink-400 mr-2"></i>Evcil Hayvanlar
                                </a>
                                <a href="/cosmetics/cloaks" class="dropdown-link">
                                    <i class="fas fa-user-tie text-purple-400 mr-2"></i>Pelerinler
                                </a>
                                <a href="/cosmetics/hats" class="dropdown-link">
                                    <i class="fas fa-hat-wizard text-indigo-400 mr-2"></i>Şapkalar
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right side navigation -->
                <div class="flex items-center space-x-4">
                    <!-- Server Status -->
                    <div class="hidden lg:flex items-center bg-gray-700 px-3 py-1 rounded-lg">
                        <div class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></div>
                        <span class="text-sm font-medium" id="player-count">Oyuncu: --</span>
                    </div>
                    
                    <!-- User Menu -->
                    <% if (typeof user !== 'undefined' && user) { %>
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" class="flex items-center space-x-2 bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-lg transition-colors">
                                <img src="/images/default-avatar.png" alt="<%= user.username %>" class="w-6 h-6 rounded-full">
                                <span class="font-medium"><%= user.username %></span>
                                <i class="fas fa-chevron-down text-xs"></i>
                            </button>
                            <div x-show="open" @click.away="open = false" 
                                 x-transition:enter="transition ease-out duration-100"
                                 x-transition:enter-start="transform opacity-0 scale-95"
                                 x-transition:enter-end="transform opacity-100 scale-100"
                                 x-transition:leave="transition ease-in duration-75"
                                 x-transition:leave-start="transform opacity-100 scale-100"
                                 x-transition:leave-end="transform opacity-0 scale-95"
                                 class="absolute right-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-md shadow-lg z-50">
                                <a href="/dashboard" class="dropdown-link">
                                    <i class="fas fa-tachometer-alt mr-2"></i>Panel
                                </a>
                                <a href="/profile/<%= user.username %>" class="dropdown-link">
                                    <i class="fas fa-user mr-2"></i>Profil
                                </a>
                                <a href="/purchases" class="dropdown-link">
                                    <i class="fas fa-shopping-cart mr-2"></i>Satın Alımlar
                                </a>
                                <hr class="border-gray-700 my-1">
                                <a href="/logout" class="dropdown-link text-red-400">
                                    <i class="fas fa-sign-out-alt mr-2"></i>Çıkış Yap
                                </a>
                            </div>
                        </div>
                    <% } else { %>
                        <div class="flex items-center space-x-2">
                            <a href="/login" class="btn-secondary">Giriş Yap</a>
                            <a href="/register" class="btn-primary">Kayıt Ol</a>
                        </div>
                    <% } %>
                    
                    <!-- Mobile menu button -->
                    <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden p-2 rounded-md text-gray-300 hover:text-white hover:bg-gray-700">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Navigation -->
        <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" class="md:hidden bg-gray-800 border-t border-gray-700">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="/" class="mobile-nav-link">
                    <i class="fas fa-home mr-2"></i>Ana Sayfa
                </a>
                <a href="/market" class="mobile-nav-link">
                    <i class="fas fa-shopping-bag mr-2"></i>Market
                </a>
                <a href="/news" class="mobile-nav-link">
                    <i class="fas fa-newspaper mr-2"></i>Haberler
                </a>
                <a href="/toplist" class="mobile-nav-link">
                    <i class="fas fa-trophy mr-2"></i>Sıralama
                </a>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="min-h-screen">
        <%- body %>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-800 border-t border-gray-700 mt-16">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center mb-4">
                        <img class="h-8 w-8" src="/images/logo.png" alt="MinecraftTR" onerror="this.style.display='none'">
                        <span class="ml-2 text-xl font-bold text-green-400">MinecraftTR</span>
                    </div>
                    <p class="text-gray-300 mb-4">
                        Türkiye'nin en büyük ve en kaliteli Minecraft sunucusu. 
                        Binlerce oyuncu ile eğlenceli vakit geçirin!
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-discord text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-youtube text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase mb-4">Hızlı Bağlantılar</h3>
                    <ul class="space-y-2">
                        <li><a href="/market" class="footer-link">Market</a></li>
                        <li><a href="/news" class="footer-link">Haberler</a></li>
                        <li><a href="/toplist" class="footer-link">Sıralama</a></li>
                        <li><a href="/rules" class="footer-link">Kurallar</a></li>
                        <li><a href="/support" class="footer-link">Destek</a></li>
                    </ul>
                </div>
                
                <!-- Server Info -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-300 tracking-wider uppercase mb-4">Sunucu Bilgileri</h3>
                    <ul class="space-y-2">
                        <li class="footer-link">IP: <span class="text-green-400">play.minecrafttr.com</span></li>
                        <li class="footer-link">Port: <span class="text-green-400">25565</span></li>
                        <li class="footer-link">Version: <span class="text-green-400">1.8 - 1.21</span></li>
                        <li class="footer-link">Cracked: <span class="text-green-400">Desteklenir</span></li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-700">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-400 text-sm">
                        © 2024 MinecraftTR. Tüm hakları saklıdır.
                    </p>
                    <div class="mt-4 md:mt-0 flex space-x-6">
                        <a href="/privacy" class="text-gray-400 hover:text-white text-sm transition-colors">Gizlilik Politikası</a>
                        <a href="/terms" class="text-gray-400 hover:text-white text-sm transition-colors">Kullanım Şartları</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="/js/main.js"></script>
    <script>
        // Update player count
        function updatePlayerCount() {
            fetch('/api/server/stats')
                .then(response => response.json())
                .then(data => {
                    const element = document.getElementById('player-count');
                    if (element) {
                        element.textContent = `Oyuncu: ${data.online_players}/${data.max_players}`;
                    }
                })
                .catch(console.error);
        }
        
        // Update every 30 seconds
        updatePlayerCount();
        setInterval(updatePlayerCount, 30000);
    </script>
</body>
</html>